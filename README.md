# NCP Object Storage ν†µν•© μλ™ν™” ν”λ«νΌ

**NCP ν΄λΌμ°λ“ QA μλ™ν™” ν¬νΈν΄λ¦¬μ¤ ν”„λ΅μ νΈ**

---

## π“‹ λ©μ°¨

- [ν”„λ΅μ νΈ κ°μ”](#ν”„λ΅μ νΈ-κ°μ”)
- [Phase 1: API μλ™ν™” ν…μ¤νΈ](#phase-1-api-μλ™ν™”-ν…μ¤νΈ)
- [Phase 2: ν†µν•© νμ΄ν”„λΌμΈ](#phase-2-ν†µν•©-νμ΄ν”„λΌμΈ)
- [μ£Όμ” μ„±κ³Ό](#μ£Όμ”-μ„±κ³Ό)
- [κΈ°μ  μ¤νƒ](#κΈ°μ -μ¤νƒ)
- [μ‹¤ν–‰ λ°©λ²•](#μ‹¤ν–‰-λ°©λ²•)
- [ν”„λ΅μ νΈ κµ¬μ΅°](#ν”„λ΅μ νΈ-κµ¬μ΅°)

---

## π― ν”„λ΅μ νΈ κ°μ”

NCP Object Storageλ¥Ό μ¤‘μ‹¬μΌλ΅ **API ν…μ¤νΈ μλ™ν™”**λ¶€ν„° **3κ° μ„λΉ„μ¤ ν†µν•© νμ΄ν”„λΌμΈ**κΉμ§€ κµ¬μ¶•ν• ν΄λΌμ°λ“ QA μλ™ν™” ν”„λ΅μ νΈμ…λ‹λ‹¤.

### μ§„ν™” κ³Όμ •
```
Phase 1 (2025.08)         Phase 2 (2025.10)
API ν…μ¤νΈ μλ™ν™”    β†’    ν†µν•© νμ΄ν”„λΌμΈ
43κ° ν…μ¤νΈ              9κ° E2E μ‹λ‚λ¦¬μ¤
λ‹¨μΌ μ„λΉ„μ¤              3κ° μ„λΉ„μ¤ ν†µν•©
```

---

## π“ Phase 1: API μλ™ν™” ν…μ¤νΈ

### κ°μ”
NCP Object Storageμ S3 νΈν™ APIμ— λ€ν• ν¬κ΄„μ μΈ μλ™ν™” ν…μ¤νΈ μ¤μ„νΈλ¥Ό κ°λ°ν•μ—¬ μ„λΉ„μ¤ ν’μ§κ³Ό S3 ν‘μ¤€ νΈν™μ„±μ„ κ²€μ¦ν•©λ‹λ‹¤.

### μ£Όμ” μ„±κ³Ό
* **ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€**: 43κ° ν…μ¤νΈ μΌ€μ΄μ¤
* **μ„±κ³µλ¥ **: 83% (5/6 ν•µμ‹¬ ν…μ¤νΈ)
* **νΈν™μ„± μ΄μ λ°κ²¬**: S3 ν‘μ¤€κ³Ό λ‹¤λ¥Έ μ—λ¬ μ½”λ“ λ°ν™ λ°κ²¬
* **κΈ°μ μ  μ΄μ ν•΄κ²°**: boto3 μµμ‹  λ²„μ „ νΈν™μ„± λ¬Έμ  ν•΄κ²°

### λ°κ²¬λ μ΄μ
1. **boto3 λ²„μ „ νΈν™μ„±**: μµμ‹  λ²„μ „(1.40.x)μ—μ„ AccessDenied μ¤λ¥
   - ν•΄κ²°: 1.28.57λ΅ λ‹¤μ΄κ·Έλ μ΄λ“
2. **S3 ν‘μ¤€ λ¶μΌμΉ**: HEAD μ”μ²­ μ‹ '404' λ€μ‹  'NoSuchKey' λ°ν™ν•΄μ•Ό ν•¨
   - NCP ν€μ— κ°μ„  μ μ•

### Phase 1 μ‹¤ν–‰ λ°©λ²•
```bash
# Phase 1 ν…μ¤νΈ μ‹¤ν–‰
pytest test_ncp_storage.py -v --html=reports/report.html
```

---

## π€ Phase 2: ν†µν•© νμ΄ν”„λΌμΈ

### κ°μ”
Object Storage, CDN+, Image Optimizer 3κ° NCP μ„λΉ„μ¤λ¥Ό ν†µν•©ν• **ν”„λ΅λ•μ… λ λ””** λ―Έλ””μ–΄ μ²λ¦¬ νμ΄ν”„λΌμΈμ„ κµ¬μ¶•ν–μµλ‹λ‹¤.

### π― ν•µμ‹¬ κΈ°λ¥

#### 1. **λ―Έλ””μ–΄ νμ΄ν”„λΌμΈ**
```
μ—…λ΅λ“ β†’ μµμ ν™” β†’ CDN λ°°ν¬ β†’ κ²€μ¦
```
- μλ™ μ΄λ―Έμ§€ μµμ ν™” (WebP/JPEG)
- CDN μΊμ‹ μλ™ Purge
- λ°°ν¬ μƒνƒ μ‹¤μ‹κ°„ κ²€μ¦

#### 2. **μ •μ  μ›Ήμ‚¬μ΄νΈ λ°°ν¬**
```
HTML/CSS/JS/μ΄λ―Έμ§€ β†’ μΌκ΄„ μµμ ν™” β†’ CDN λ°°ν¬
```
- 8κ° νμΌ λ™μ‹ μ²λ¦¬
- μλ™ Content-Type μ„¤μ •
- λ°°ν¬ μ™„λ£ ν›„ 200 OK κ²€μ¦

#### 3. **μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§**
- Streamlit λ€μ‹λ³΄λ“
- μ—…λ΅λ“/μµμ ν™”/CDN μ„±λ¥ μ‹κ°ν™”
- λΉ„μ© μ κ° ν¨κ³Ό λ¶„μ„

### μ£Όμ” μ„±κ³Ό

#### μ •λ‰μ  μ§€ν‘
| μ§€ν‘ | λ©ν‘ | μ‹¤μ  κ²°κ³Ό | λ‹¬μ„± |
|------|------|-----------|------|
| ν†µν•© ν…μ¤νΈ ν†µκ³Όμ¨ | 100% | 100% (9/9) | β… |
| μ΄λ―Έμ§€ μ••μ¶•λ¥  | 60% | **88.5%** | β… μ΄κ³Όλ‹¬μ„± |
| μµμ ν™” μ†λ„ (FHD) | <1.5μ΄ | **0.17μ΄** | β… μ΄κ³Όλ‹¬μ„± |
| μµμ ν™” μ†λ„ (4K) | <3.0μ΄ | **0.66μ΄** | β… μ΄κ³Όλ‹¬μ„± |
| μ‹¤μ  NCP μ—°λ™ | μ„±κ³µ | β… μ„±κ³µ | β… |
| CI/CD νμ΄ν”„λΌμΈ | κµ¬μ¶• | β… 6 Jobs ν†µκ³Ό | β… |

#### ν…μ¤νΈ κ²°κ³Ό (9κ° E2E μ‹λ‚λ¦¬μ¤)

**ν†µν•© νμ΄ν”„λΌμΈ (5κ°)**
```
β… test_single_image_full_pipeline      λ‹¨μΌ μ΄λ―Έμ§€ μ „μ²΄ νμ΄ν”„λΌμΈ
β… test_static_website_deployment       μ •μ  μ›Ήμ‚¬μ΄νΈ λ°°ν¬ (8κ° νμΌ)
β… test_large_file_multipart_upload     λ€μ©λ‰ νμΌ λ©€ν‹°ννΈ μ—…λ΅λ“
β… test_cdn_cache_hit_verification      CDN μΊμ‹ κ²€μ¦
β… test_optimization_quality_threshold  ν’μ§λ³„ μ••μ¶•λ¥  κ²€μ¦
```

**μ—λ¬ μ²λ¦¬ (2κ°)**
```
β… test_network_retry_logic             λ„¤νΈμ›ν¬ μ¬μ‹λ„ (3ν)
β… test_partial_failure_rollback        λ¶€λ¶„ μ‹¤ν¨ λ΅¤λ°±
```

**μ„±λ¥ ν…μ¤νΈ (2κ°)**
```
β… test_concurrent_uploads              λ™μ‹ μ—…λ΅λ“ (5κ° νμΌ)
β… test_optimization_speed              μµμ ν™” μ†λ„ λ²¤μΉλ§ν¬
```

### Phase 2 μ‹¤ν–‰ λ°©λ²•

#### 1. λ°λ¨ μ‹¤ν–‰
```bash
# μ „μ²΄ νμ΄ν”„λΌμΈ λ°λ¨
python demo.py

# μμƒ μ¶λ ¥:
# β“ 3κ° μ΄λ―Έμ§€ μµμ ν™” (88.5% ν‰κ·  μ••μ¶•)
# β“ νμ΄ν”„λΌμΈ μ²λ¦¬ μ‹κ°„: 2.0μ΄
```

#### 2. ν†µν•© ν…μ¤νΈ
```bash
# ν™κ²½ λ³€μ μ„¤μ •
export NCP_ACCESS_KEY="your_access_key"
export NCP_SECRET_KEY="your_secret_key"

# ν…μ¤νΈ μ‹¤ν–‰
pytest tests/integration/test_e2e_pipeline.py -v -s

# μμƒ κ²°κ³Ό: 9 passed in 28s
```

#### 3. λ€μ‹λ³΄λ“ μ‹¤ν–‰
```bash
# Streamlit λ€μ‹λ³΄λ“
streamlit run src/monitoring/dashboard.py

# λΈλΌμ°μ €μ—μ„ http://localhost:8501 μλ™ μ—΄λ¦Ό
```

---

## π† μ£Όμ” μ„±κ³Ό λΉ„κµ

### Phase 1 vs Phase 2

| ν•­λ© | Phase 1 | Phase 2 |
|------|---------|---------|
| **μ„λΉ„μ¤ λ²”μ„** | Object Storage λ‹¨λ… | Storage + CDN+ + Optimizer ν†µν•© |
| **ν…μ¤νΈ μ** | 43κ° API ν…μ¤νΈ | 9κ° E2E + 6κ° Unit |
| **ν…μ¤νΈ μ ν•** | API κΈ°λ¥ κ²€μ¦ | ν†µν•© μ‹λ‚λ¦¬μ¤ κ²€μ¦ |
| **μµμ ν™”** | μ—†μ | 60-88% μ΄λ―Έμ§€ μ••μ¶• |
| **λ¨λ‹ν„°λ§** | λ΅κ·Έ κΈ°λ° | μ‹¤μ‹κ°„ λ€μ‹λ³΄λ“ (Streamlit) |
| **μλ™ν™”** | pytest | pytest + GitHub Actions CI/CD |
| **μ‹¤μ  μ—°λ™** | Object Storage | Object Storage + CDN+ + Optimizer |

### ν†µν•© μ„±κ³Ό
```
β… μ΄ ν…μ¤νΈ: 52κ° (Phase 1: 43 + Phase 2: 9)
β… ν†µκ³Όμ¨: 100% (Phase 2 κΈ°μ¤€)
β… λ°κ²¬λ μ΄μ: 2κ±΄ (S3 νΈν™μ„±)
β… μ΄λ―Έμ§€ μ••μ¶•λ¥ : 88.5% (Phase 2)
β… CI/CD: GitHub Actions 6 Jobs ν†µκ³Ό
β… μ‹¤ν–‰ μ‹κ°„: 3λ¶„ λ―Έλ§ (μ „μ²΄ νμ΄ν”„λΌμΈ)
```

---

## π› οΈ κΈ°μ  μ¤νƒ

### Backend & Testing
- **Python 3.11.9**
- **pytest 8.4.1** (ν…μ¤νΈ ν”„λ μ„μ›ν¬)
- **boto3 1.34.144** (NCP Object Storage SDK)
- **Pillow 10.4.0** (μ΄λ―Έμ§€ μ²λ¦¬)
- **tenacity 8.5.0** (μ¬μ‹λ„ λ΅μ§)

### Monitoring & Visualization
- **Streamlit 1.38.0** (μ‹¤μ‹κ°„ λ€μ‹λ³΄λ“)
- **Plotly 5.24.0** (μΈν„°λ™ν‹°λΈ μ°¨νΈ)
- **Pandas 2.2.2** (λ°μ΄ν„° λ¶„μ„)

### DevOps
- **GitHub Actions** (CI/CD)
- **Docker** (μ»¨ν…μ΄λ„ν™”)
- **pytest-html** (λ¦¬ν¬νΈ μƒμ„±)

### NCP Services
- **Object Storage** (S3 νΈν™)
- **CDN+** (μΊμ‹ μ μ–΄)
- **Image Optimizer** (μ΄λ―Έμ§€ μµμ ν™”)

---

## π“‚ ν”„λ΅μ νΈ κµ¬μ΅°

```
ncp-object-storage-automation/
β”‚
β”β”€β”€ π“„ Phase 1 (API ν…μ¤νΈ)
β”‚   β”β”€β”€ test_ncp_storage.py          # Phase 1 λ©”μΈ ν…μ¤νΈ
β”‚   β”β”€β”€ issues-found.md              # λ°κ²¬λ μ΄μ λ¬Έμ„
β”‚   β””β”€β”€ portfolio-summary.md         # Phase 1 μ”μ•½
β”‚
β”β”€β”€ π“¦ Phase 2 (ν†µν•© νμ΄ν”„λΌμΈ)
β”‚   β”β”€β”€ src/
β”‚   β”‚   β”β”€β”€ storage/
β”‚   β”‚   β”‚   β””β”€β”€ client.py            # Object Storage ν΄λΌμ΄μ–ΈνΈ
β”‚   β”‚   β”β”€β”€ optimizer/
β”‚   β”‚   β”‚   β””β”€β”€ image_processor.py   # μ΄λ―Έμ§€ μµμ ν™”
β”‚   β”‚   β”β”€β”€ cdn/
β”‚   β”‚   β”‚   β””β”€β”€ manager.py           # CDN λ§¤λ‹μ €
β”‚   β”‚   β”β”€β”€ pipeline/
β”‚   β”‚   β”‚   β””β”€β”€ media_pipeline.py    # νμ΄ν”„λΌμΈ μ¤μΌ€μ¤νΈλ μ΄μ…
β”‚   β”‚   β””β”€β”€ monitoring/
β”‚   β”‚       β””β”€β”€ dashboard.py         # μ‹¤μ‹κ°„ λ€μ‹λ³΄λ“
β”‚   β”‚
β”‚   β”β”€β”€ tests/
β”‚   β”‚   β”β”€β”€ unit/
β”‚   β”‚   β”‚   β””β”€β”€ test_basic.py        # λ‹¨μ„ ν…μ¤νΈ (6κ°)
β”‚   β”‚   β”β”€β”€ integration/
β”‚   β”‚   β”‚   β””β”€β”€ test_e2e_pipeline.py # ν†µν•© ν…μ¤νΈ (9κ°)
β”‚   β”‚   β””β”€β”€ performance/
β”‚   β”‚       β””β”€β”€ benchmark_optimizer.py # μ„±λ¥ λ²¤μΉλ§ν¬
β”‚   β”‚
β”‚   β”β”€β”€ config/
β”‚   β”‚   β””β”€β”€ config.yaml              # Phase 1 + 2 ν†µν•© μ„¤μ •
β”‚   β”‚
β”‚   β”β”€β”€ .github/
β”‚   β”‚   β””β”€β”€ workflows/
β”‚   β”‚       β””β”€β”€ phase2_integration.yml # CI/CD νμ΄ν”„λΌμΈ
β”‚   β”‚
β”‚   β”β”€β”€ docs/
β”‚   β”‚   β”β”€β”€ PORTFOLIO.md             # ν¬νΈν΄λ¦¬μ¤ λ¬Έμ„
β”‚   β”‚   β””β”€β”€ PROJECT_STRUCTURE.md     # ν”„λ΅μ νΈ κµ¬μ΅° κ°€μ΄λ“
β”‚   β”‚
β”‚   β”β”€β”€ demo.py                      # ν†µν•© λ°λ¨ μ¤ν¬λ¦½νΈ
β”‚   β”β”€β”€ requirements.txt             # Python ν¨ν‚¤μ§€
β”‚   β””β”€β”€ README.md                    # μ΄ νμΌ
β”‚
β””β”€β”€ reports/                         # ν…μ¤νΈ κ²°κ³Ό λ¦¬ν¬νΈ
```

---

## π€ λΉ λ¥Έ μ‹μ‘

### 1. ν™κ²½ μ„¤μ •

```bash
# μ €μ¥μ† ν΄λ΅ 
git clone https://github.com/masha0465/ncp-object-storage-automation.git
cd ncp-object-storage-automation

# κ°€μƒν™κ²½ μƒμ„± λ° ν™μ„±ν™”
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ν¨ν‚¤μ§€ μ„¤μΉ
pip install -r requirements.txt
```

### 2. ν™κ²½ λ³€μ μ„¤μ •

`.env` νμΌ μƒμ„±:
```bash
NCP_ACCESS_KEY=your_access_key
NCP_SECRET_KEY=your_secret_key
NCP_ENDPOINT_URL=https://kr.object.ncloudstorage.com
NCP_REGION=kr-standard
```

### 3. μ‹¤ν–‰

```bash
# Phase 1 ν…μ¤νΈ
pytest test_ncp_storage.py -v

# Phase 2 λ°λ¨
python demo.py

# Phase 2 ν†µν•© ν…μ¤νΈ
pytest tests/integration/ -v -s

# λ€μ‹λ³΄λ“
streamlit run src/monitoring/dashboard.py
```

---

## π“ CI/CD νμ΄ν”„λΌμΈ

GitHub Actionsλ¥Ό ν†µν• μλ™ν™”λ ν…μ¤νΈ λ° λ°°ν¬:

```yaml
β… λ‹¨μ„ ν…μ¤νΈ (45μ΄)
β… λ³΄μ• κ²€μ‚¬ (1λ¶„ 5μ΄)
β… ν†µν•© ν…μ¤νΈ (52μ΄)
β… μ„±λ¥ λ²¤μΉλ§ν¬ (35μ΄)
β… Docker μ΄λ―Έμ§€ λΉλ“ (52μ΄)
β… ν…μ¤νΈ λ¦¬ν¬νΈ μƒμ„± (4μ΄)
```

**μ΄ μ‹¤ν–‰ μ‹κ°„**: μ•½ 3λ¶„

---

## π“ ν•™μµ μ„±κ³Ό

### Phase 1μ—μ„ Phase 2λ΅μ μ§„ν™”

#### Phase 1 (2025.08)
- β… NCP Object Storage API μ΄ν•΄
- β… S3 νΈν™μ„± κ²€μ¦
- β… νΈν™μ„± μ΄μ 2κ±΄ λ°κ²¬
- β… pytest κΈ°λ° ν…μ¤νΈ ν”„λ μ„μ›ν¬ κµ¬μ¶•

#### Phase 2 (2025.10)
- β… 3κ° NCP μ„λΉ„μ¤ ν†µν•©
- β… μ—”λ“ν¬μ—”λ“ νμ΄ν”„λΌμΈ κµ¬μ¶•
- β… μ‹¤μ‹κ°„ λ¨λ‹ν„°λ§ μ‹μ¤ν…
- β… CI/CD νμ΄ν”„λΌμΈ κµ¬μ¶•
- β… Production-ready μ•„ν‚¤ν…μ²

### κΈ°μ μ  μ„±μ¥
```
λ‹¨μΌ API ν…μ¤νΈ β†’ ν†µν•© μ‹λ‚λ¦¬μ¤ κ²€μ¦
μλ™ μ‹¤ν–‰ β†’ μ™„μ „ μλ™ν™” (CI/CD)
λ΅κ·Έ λ¨λ‹ν„°λ§ β†’ μ‹¤μ‹κ°„ λ€μ‹λ³΄λ“
κ°λ… μ¦λ… β†’ ν”„λ΅λ•μ… λ λ””
```

---

## π’Ό ν¬νΈν΄λ¦¬μ¤ ν•μ΄λΌμ΄νΈ

> **"NCP μκ²©μ¦ κ³µλ¶€λ¥Ό μ‹¤μ „ ν”„λ΅μ νΈλ΅ μΉν™”"**
> 
> Phase 1μ—μ„ API ν…μ¤νΈ μλ™ν™”λ΅ μ‹μ‘ν•μ—¬,
> Phase 2μ—μ„ 3κ° μ„λΉ„μ¤λ¥Ό ν†µν•©ν• ν”„λ΅λ•μ… λ λ”” νμ΄ν”„λΌμΈμ„ μ™„μ„±ν–μµλ‹λ‹¤.
> 
> **9λ…„ ν΄λΌμ°λ“ QA κ²½ν—**μ„ ν™μ©ν•μ—¬:
> - β… S3 νΈν™μ„± μ΄μ λ°κ²¬ λ° λ¦¬ν¬νΈ
> - β… μ—”λ“ν¬μ—”λ“ ν†µν•© κ²€μ¦
> - β… λ°μ΄ν„° κΈ°λ° ν’μ§ κ΄€λ¦¬
> - β… CI/CD μλ™ν™” κµ¬μ¶•

### μ •λ‰μ  μ¦κ±°
```
β… 52κ° ν…μ¤νΈ (Phase 1: 43 + Phase 2: 9 + Unit: 6)
β… 88.5% μ΄λ―Έμ§€ μ••μ¶•λ¥  λ‹¬μ„±
β… μ‹¤μ  NCP ν™κ²½ μ—°λ™ μ„±κ³µ
β… GitHub Actions CI/CD κµ¬μ¶•
β… 3λ¶„ μ΄λ‚΄ μ „μ²΄ νμ΄ν”„λΌμΈ μ‹¤ν–‰
```

---

## π”— κ΄€λ ¨ λ§ν¬

- **GitHub Repository**: [ncp-object-storage-automation](https://github.com/masha0465/ncp-object-storage-automation)
- **ν¬νΈν΄λ¦¬μ¤ λ¬Έμ„**: [PORTFOLIO.md](docs/PORTFOLIO.md)
- **μ΄μ νΈλν‚Ή**: [issues-found.md](issues-found.md)

---

## π‘¤ μ‘μ„±μ

**κΉ€μ„ μ•„**
- Email: masha0465@gmail.com
- GitHub: [@masha0465](https://github.com/masha0465)
- κ²½λ ¥: 9λ…„ ν΄λΌμ°λ“ QA (AWS, Azure, K8s)

---

## π“ λΌμ΄μ„ μ¤

μ΄ ν”„λ΅μ νΈλ” ν¬νΈν΄λ¦¬μ¤ λ©μ μΌλ΅ μ‘μ„±λμ—μµλ‹λ‹¤.

---

**ν”„λ΅μ νΈ μƒνƒ**: β… Production Ready  
**λ§μ§€λ§‰ μ—…λ°μ΄νΈ**: 2025-10-28
